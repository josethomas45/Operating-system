#include<stdio.h>
#include<stdlib.h>
int mutex=1,full=0,empty=3;
void procedure();
void consumer();
int wait(int s);
int signal(int s);
void main()
{ 
  int choice;
  printf("Enter the choice: \n");
  scanf("%d",&choice);
  switch(choice)
  {
   case 1:
   if(mutex==1&&empty!=0)
   {
    procedure();
   }
   else
   {
    printf("Buffer is full. \n");
   }
   case 2:
   if(mutex==1&&full!=0)
   {
    consumer();
   }
   else
   {
    printf("Buffer is empty\n");
   }
   case 3:
    exit(0);
  }
}
void producer()
{
 mutex==wait(mutex);
 full=signal(full);
 empty=wait(empty);
 mutex=signal(mutex);
}
void consumer()
{
 mutex=wait(mutex);
 full=wait(full);
 empty=signal(empty);
 mutex=signal(mutex);
}
int wait(int s)
{
 s--;
 return s;
}
int siganl(int s)
{
 s++;
 return s;
}
